(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,n){e.exports=n(70)},70:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(16),l=n.n(i),o=n(12),c=n(11),u=n(4),s=n(5),h=n(9),d=n(8),p=n(10),g=n(1),v=n(2),f=n(13);function m(){var e=Object(g.a)(["\n    max-height: 280px;\n    max-width: 185px;\n"]);return m=function(){return e},e}function b(){var e=Object(g.a)(["\n    text-align: center;\n    height: 320px;\n    width: 240px;\n"]);return b=function(){return e},e}function E(){var e=Object(g.a)(["\n    display: inline-block;\n    align-self: center;\n    padding: 8px 2% 8px 2%;\n    margin-bottom: 15px;\n"]);return E=function(){return e},e}var O=v.a.li(E()),j=v.a.div(b()),x=v.a.img(m()),y=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.data.poster_path?r.a.createElement(O,null,r.a.createElement(o.b,{to:"/movie/".concat(this.props.data.id),key:this.props.data.id},r.a.createElement(j,null,r.a.createElement(x,{src:"http://image.tmdb.org/t/p/w185"+this.props.data.poster_path,alt:this.props.data.title}),r.a.createElement("p",null,this.props.data.title)))):null}}]),t}(r.a.Component),w=n(36),k=n.n(w).a.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"2556ac28d3c2f708dba5bb4bbb73cbe3"}}),S=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,null,[{key:"get",value:function(e,t){return k.get(e,{params:t})}}]),e}();function L(){var e=Object(g.a)(["\n    display: block;\n    text-align: center;\n"]);return L=function(){return e},e}function M(){var e=Object(g.a)(["\n    min-height: 900px;\n"]);return M=function(){return e},e}function R(){var e=Object(g.a)(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-items: baseline;\n    margin: 10px ;\n    align-content: center;\n"]);return R=function(){return e},e}var _=v.a.ul(R()),C=v.a.div(M()),I=v.a.div(L()),U=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={isLoading:!1,page:1,data:[],prev:0},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getMoreQueryResults();this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:.2}),this.observer.observe(this.loadingRef)}},{key:"handleObserver",value:function(e){var t=e[0].boundingClientRect.y;if(this.state.prev>t){var n=this.state.page+1;this.setState({page:n,isLoading:!0}),this.getMoreQueryResults()}this.setState({prev:t})}},{key:"getMoreQueryResults",value:function(){var e=this;S.get("/movie/popular",{language:"en-US",page:this.state.page}).then(function(t){var n=e.state.data;e.setState({data:[].concat(Object(f.a)(n),Object(f.a)(t.data.results)),isLoading:!1})}).catch(function(e){console.log(e.response)})}},{key:"render",value:function(){var e=this;return r.a.createElement(C,null,r.a.createElement(_,null,this.state.data.map(function(e){return r.a.createElement(y,{data:e,key:e.id})}),r.a.createElement(I,{ref:function(t){return e.loadingRef=t}},r.a.createElement("h3",null,"Loading..."))))}}]),t}(r.a.Component),T=n(17),H=n(18),F=n.n(H);function Q(){var e=Object(g.a)(["\n\tfont-size: 20px;\n"]);return Q=function(){return e},e}function W(){var e=Object(g.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\talign-items: baseline;\n\talign-content: left;\n"]);return W=function(){return e},e}function q(){var e=Object(g.a)(["\n\ttext-align: center;\n\twidth: 40%;\n\theight: 35px;\n"]);return q=function(){return e},e}function D(){var e=Object(g.a)(["\n\tbackground-color: lightgray;\n"]);return D=function(){return e},e}function J(){var e=Object(g.a)(["\n\ttext-align: center;\n\talign-content: center;\n"]);return J=function(){return e},e}var z=v.a.div(J()),B=v.a.form(D()),N=v.a.input(q()),P=v.a.ul(W()),Y=v.a.p(Q()),A={isLoading:!1,results:[],value:"",title:[],movieId:[],page:1,listExhausted:!1},G=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target.value;n.setState({isLoading:!0,value:t}),setTimeout(function(){var e=n.state.value;if(e.length<1)return n.setState(A);S.get("/search/movie",{language:"en-US",query:t,page:n.state.page}).then(function(t){var a=t.data.results,r=n.regexpMatch(e,a);n.setState({isLoading:!1,results:r})}).catch(function(e){console.log(e.response)})},300)},n.regexpMatch=function(e,t){var n=new RegExp(F.a.escapeRegExp(e),"i");return F.a.filter(t,function(e){return n.test(e.title)})},n.state=A,n.handleScroll=n.handleScroll.bind(Object(T.a)(n)),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"handleScroll",value:function(){if(!this.state.listExhausted&&window.innerHeight+window.scrollY>window.innerHeight-100&&!this.state.isLoading&&""!==this.state.value){var e=this.state.page+1;this.setState({isLoading:!0,page:e}),this.getMoreSearchResults()}}},{key:"getMoreSearchResults",value:function(){var e=this,t=this.state,n=t.value,a=t.page,r=t.results;S.get("/search/movie",{language:"en-US",query:n,page:a}).then(function(t){var a=t.data.results,i=e.regexpMatch(n,a);a.length>0?e.setState({isLoading:!1,results:[].concat(Object(f.a)(r),Object(f.a)(i))}):e.setState({isLoading:!1,listExhausted:!0})}).catch(function(e){console.log(e.response)})}},{key:"render",value:function(){return r.a.createElement(z,null,r.a.createElement(B,null,r.a.createElement(N,{placeholder:"Search for movie...",value:this.state.value,onChange:F.a.debounce(this.handleInputChange,1e3,{leading:!0,maxWait:1500})})),r.a.createElement(P,null,this.state.results.map(function(e){return r.a.createElement(y,{data:e,key:e.id})}),this.state.listExhausted?r.a.createElement(Y,null,"No more search results to show"):this.state.isLoading&&r.a.createElement(Y,null,"Searching for movies please wait...")))}}]),t}(r.a.Component);function K(){var e=Object(g.a)(["\n    text-align: center;\n    border-bottom: 0.5px solid black;\n    padding-bottom: 10px;\n"]);return K=function(){return e},e}var V=v.a.h1(K()),X=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(V,null,"Movie Hunter"),r.a.createElement(G,null),r.a.createElement(V,null,"Popular Movies"),r.a.createElement(U,null))}}]),t}(r.a.Component);function Z(){var e=Object(g.a)(["\n    height: 90%;\n    width: 100%;\n"]);return Z=function(){return e},e}function $(){var e=Object(g.a)(["\n    text-align: left;\n    width: 50%;\n    margin-right: 10%;\n    margin-left: 1.5%;\n"]);return $=function(){return e},e}function ee(){var e=Object(g.a)(["\n    margin-top: 1.5%;\n    margin-right: 1.5%;\n    text-align: right;\n    border-right: 2px solid black;\n    padding-right: 3%;\n    width: 50%;\n"]);return ee=function(){return e},e}function te(){var e=Object(g.a)(["\n    display: block;\n    align-content: center;\n    text-align: center;\n    margin-block-end: 3%;\n"]);return te=function(){return e},e}function ne(){var e=Object(g.a)(["\n    display: flex;\n    column-count: 2;\n    column-gap: 25%;\n"]);return ne=function(){return e},e}function ae(){var e=Object(g.a)(["\n    display: block;\n"]);return ae=function(){return e},e}var re=v.a.div(ae()),ie=v.a.div(ne()),le=v.a.h1(te()),oe=v.a.div(ee()),ce=v.a.div($()),ue=v.a.iframe(Z()),se=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={data:{},trailerFound:!0},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.movieId;S.get("/movie/".concat(t),{language:"en-US",append_to_response:"videos"}).then(function(t){e.setState({data:t.data})}).catch(function(e){console.log(e.response)})}},{key:"getTrailer",value:function(){if(void 0!==this.state.data.videos){var e=this.state.data.videos.results.find(function(e){return"Trailer"===e.type});if(void 0!==e)return e.key;this.setState({trailerFound:!1})}}},{key:"render",value:function(){var e=this.state.data;return r.a.createElement(re,null,r.a.createElement(le,null,r.a.createElement(o.b,{to:"/"},"Movie Hunter")),r.a.createElement("hr",null),r.a.createElement(ie,null,r.a.createElement(oe,null,r.a.createElement("img",{src:"http://image.tmdb.org/t/p/w200"+e.poster_path,alt:"loading"}),r.a.createElement("h2",null,r.a.createElement("strong",null,e.title)),r.a.createElement("p",null,e.tagline)),r.a.createElement(ce,null,r.a.createElement("p",null,r.a.createElement("strong",null,"Synopsis: "),e.overview),r.a.createElement("p",null,"Released on: ",e.release_date),0===e.vote_count?null:r.a.createElement("p",null,"Rated ",e.vote_average," by ",e.vote_count," votes"),this.state.trailerFound?r.a.createElement(ue,{src:"https://www.youtube.com/embed/".concat(this.getTrailer())}):r.a.createElement("p",null,"Trailer not found"))))}}]),t}(r.a.Component),he=r.a.createElement(function(){return r.a.createElement(o.a,null,r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/",exact:!0,component:X}),r.a.createElement(c.a,{path:"/movie/:movieId",exact:!0,component:se})))},null);l.a.render(he,document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.706f4b72.chunk.js.map