(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{51:function(e,t,n){e.exports=n(87)},87:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(21),o=n.n(i),c=n(20),u=(n(56),n(43)),l=n(44),s=n(8),p={isLoading:!1,data:{},trailer:"",error:null},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_MOVIE_DETAILS":return Object(s.a)({},p,{isLoading:!0});case"GET_MOVIE_DETAILS_SUCCESS":return Object(s.a)({},e,{isLoading:!1,data:t.payload,trailer:t.key});case"GET_MOVIE_DETAILS_ERROR":return Object(s.a)({},e,{error:t.payload.error});default:return e}},g=n(27),h={isLoading:!0,results:[],list:1,page:1,totalPages:1,error:null},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_MOVIE_SEARCH":return Object(s.a)({},h,{isLoading:!0,page:t.page});case"REQUEST_MORE_SEARCH_RESULTS":return Object(s.a)({},e,{isLoading:!0});case"SEARCH_MOVIE_SUCCESS":return Object(s.a)({},h,{isLoading:!1,results:[].concat(Object(g.a)(e.results),Object(g.a)(t.payload)),page:t.page,totalPages:t.totalPages});case"SEARCH_MOVIE_ERROR":return Object(s.a)({},e,{error:t.payload.error,page:t.page});case"RESET_SEARCH_BAR":return h;case"REQUEST_MOVIE_LIST":return Object(s.a)({},h,{isLoading:!0,list:t.page});case"REQUEST_MORE_MOVIES":return Object(s.a)({},e,{isLoading:!0});case"GET_MOVIE_LIST_SUCCESS":return Object(s.a)({},e,{isLoading:!1,results:[].concat(Object(g.a)(e.results),Object(g.a)(t.payload)),list:t.page});case"GET_MOVIE_LIST_ERROR":return Object(s.a)({},e,{error:t.payload.error,list:t.page});default:return e}},v=Object(c.a)(u.a),b=Object(c.c)({router:l.routerReducer,getMovieDetails:f,movie:d}),E=function(e,t){return b(e,t)},O=function(e){return Object(c.e)(E,Object(c.d)(v,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()))},m=n(23),j=n(22),S=n(19),_=n(4),y=n(5),R=n(11),x=n(10),w=n(12),I=n(1),T=n(2);function C(){var e=Object(I.a)(["\n    text-align: center;\n    border-bottom: 0.8px solid black;\n    padding-bottom: 12px;\n"]);return C=function(){return e},e}var M=T.a.h1(C()),L=function(e){return a.a.createElement(M,null,"Movie Hunter")},k=n(17),U=n(18),V=n.n(U);function A(){var e=Object(I.a)(["\n    text-align: center;\n    width: 40%;\n    height: 36px;\n"]);return A=function(){return e},e}function D(){var e=Object(I.a)(["\n    background-color: lightgray;\n"]);return D=function(){return e},e}function P(){var e=Object(I.a)(["\n    align-content: center;\n    text-align: center;\n"]);return P=function(){return e},e}var H=T.a.div(P()),Q=T.a.form(D()),z=T.a.input(A()),G=function(e){function t(e){var n;return Object(_.a)(this,t),(n=Object(R.a)(this,Object(x.a)(t).call(this,e))).state={searchString:""},n.handleInputChange=n.handleInputChange.bind(Object(k.a)(n)),n.delayed=V.a.debounce(n.props.onSearchChange,600),n}return Object(w.a)(t,e),Object(y.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target.value;this.setState({searchString:t}),this.delayed(t)}},{key:"render",value:function(){return a.a.createElement(H,null,a.a.createElement(Q,{onSubmit:function(e){return e.preventDefault()}},a.a.createElement(z,{placeholder:"Search for movie...",value:this.state.searchString,onChange:this.handleInputChange})))}}]),t}(a.a.Component);function B(){var e=Object(I.a)(["\n    font-size: 16px;\n"]);return B=function(){return e},e}function N(){var e=Object(I.a)(["\n    max-height: 280px;\n    max-width: 185px;\n"]);return N=function(){return e},e}function F(){var e=Object(I.a)(["\n    text-align: center;\n    height: 320px;\n    width: 240px;\n"]);return F=function(){return e},e}function W(){var e=Object(I.a)(["\n    display: inline-block;\n    justify-content: center;\n    padding: 12px 4px 12px 4px;\n    margin-bottom: 20px;\n"]);return W=function(){return e},e}var X=T.a.li(W()),q=T.a.div(F()),J=T.a.img(N()),$=T.a.p(B()),K=function(e){var t=e.posterPath,n=e.id,r=e.title;return t&&a.a.createElement(X,null,a.a.createElement(j.b,{to:"/movie/".concat(n),key:n},a.a.createElement(q,null,a.a.createElement(J,{src:"".concat("https://image.tmdb.org/t/p/w185").concat(t),alt:r}),a.a.createElement($,null,r))))};function Y(){var e=Object(I.a)(["\n    background-color: #4F3F3B;\n    border-radius: 50%;\n    border-color: black;\n    width: 10px;\n    height: 10px;\n    margin: 0 10px;\n    animation: "," 1s ease-in-out infinite;\n    animation-delay: ",";\n"]);return Y=function(){return e},e}function Z(){var e=Object(I.a)(["\n    display: flex;\n    align-items: flex-end;\n    justify-content: center;\n    height: 50px;\n"]);return Z=function(){return e},e}function ee(){var e=Object(I.a)(["\n    0% { margin-bottom: 0; }\n    25% { margin-bottom: 15px }\n    50% { margin-bottom: 30px }\n    75% { margin-bottom: 15px }\n    100% { margin-bottom: 0px }\n"]);return ee=function(){return e},e}var te=Object(T.b)(ee()),ne=T.a.div(Z()),re=T.a.div(Y(),te,function(e){return e.delay}),ae=function(e){function t(){return Object(_.a)(this,t),Object(R.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return a.a.createElement(ne,null,a.a.createElement(re,{delay:"0s"}),a.a.createElement(re,{delay:"0.25s"}),a.a.createElement(re,{delay:"0.5s"}))}}]),t}(a.a.Component);function ie(){var e=Object(I.a)(["\n    text-align: center;\n    font-size: 20px;\n"]);return ie=function(){return e},e}function oe(){var e=Object(I.a)(["\n    display: block;\n    text-align: center;\n"]);return oe=function(){return e},e}function ce(){var e=Object(I.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\talign-items: baseline;\n    padding: 16px;\n    align-content: center;\n"]);return ce=function(){return e},e}function ue(){var e=Object(I.a)(["\n    text-align: center;\n"]);return ue=function(){return e},e}function le(){var e=Object(I.a)(["\n\ttext-align: center;\n\talign-content: center;\n"]);return le=function(){return e},e}var se=T.a.div(le()),pe=T.a.div(ue()),fe=T.a.ul(ce()),ge=T.a.div(oe()),he=T.a.p(ie()),de=function(e){function t(e){var n;return Object(_.a)(this,t),(n=Object(R.a)(this,Object(x.a)(t).call(this,e))).loadingRef=null,n}return Object(w.a)(t,e),Object(y.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.results.length;if(t>0&&!this.props.loading){var n=Math.round(t/10),r=this.loadingRef.querySelector("li:nth-child(".concat(t-n,")"));this.props.observer(r)}}},{key:"render",value:function(){var e=this;return a.a.createElement(se,null,a.a.createElement(pe,null,a.a.createElement(fe,{ref:function(t){return e.loadingRef=t}},this.props.results.map(function(e){return a.a.createElement(K,{posterPath:e.poster_path,title:e.title,id:e.id,key:e.id})}))),this.props.loading&&a.a.createElement(ae,null),a.a.createElement(ge,null,this.props.page===this.props.totalPages&&this.props.results.length>0&&a.a.createElement(he,null,"No search results to show")))}}]),t}(a.a.Component),ve=n(49),be=n.n(ve).a.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"2556ac28d3c2f708dba5bb4bbb73cbe3"}}),Ee=function(){function e(){Object(_.a)(this,e)}return Object(y.a)(e,null,[{key:"get",value:function(e,t){return be.get(e,{params:t})}}]),e}(),Oe=function(e,t){var n={language:"en-US",page:t,query:e};return Ee.get("/search/movie",n).then(function(e){return e.data}).catch(function(e){return Promise.reject(e.response)})},me=function(e){var t={language:"en-US",page:e};return Ee.get("/movie/popular",t).then(function(e){return e.data.results}).catch(function(e){return Promise.reject(e.response)})},je=function(e,t){var n=new RegExp(V.a.escapeRegExp(e),"i");return V.a.filter(t,function(e){return n.test(e.title)})},Se=function(e){function t(e){var n;return Object(_.a)(this,t),(n=Object(R.a)(this,Object(x.a)(t).call(this,e))).state={value:""},n.loadingRef=a.a.createRef(),n.setObserver=n.setObserver.bind(Object(k.a)(n)),n.handleSearchChange=n.handleSearchChange.bind(Object(k.a)(n)),n}return Object(w.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,threshold:1}),this.props.getMovieList(this.props.list)}},{key:"componentWillUnmount",value:function(){this.props.resetSearch(),this.observer.disconnect()}},{key:"handleObserver",value:function(e){var t=this.props,n=t.page,r=t.list,a=t.searchMovie,i=t.getMovieList,o=this.state.value;Object(U.forEach)(e,function(e){e.isIntersecting&&1===e.intersectionRatio&&(o?a(o,n+1):i(r+1))})}},{key:"handleSearchChange",value:function(e){this.setState({value:e});var t=this.props,n=t.list,r=t.page,a=t.resetSearch,i=t.getMovieList,o=t.searchMovie;e.length<1?(a(),i(n)):o(e,r)}},{key:"setObserver",value:function(e){this.observer.observe(e)}},{key:"render",value:function(){var e=this.props,t=e.results,n=e.isLoading,i=e.page,o=e.totalPages;return a.a.createElement(r.Fragment,null,a.a.createElement(G,{searchString:this.state.value,onSearchChange:this.handleSearchChange}),a.a.createElement(de,{observer:this.setObserver,results:t,loading:n,page:i,totalPages:o}))}}]),t}(a.a.Component),_e={searchMovie:function(e,t){return function(n){return n(1===t?function(e){return{type:"REQUEST_MOVIE_SEARCH",value:e}}(e):{type:"REQUEST_MORE_SEARCH_RESULTS"}),Oe(e,t).then(function(r){if(t<=r.total_pages){var a=je(e,r.results);n(function(e,t,n){return{type:"SEARCH_MOVIE_SUCCESS",payload:e,page:t,totalPages:n}}(a,t,r.total_pages))}}).catch(function(e){return n(function(e,t){return{type:"SEARCH_MOVIE_ERROR",payload:e,page:t-1}}(e,t))})}},resetSearch:function(){return function(e){return e({type:"RESET_SEARCH_BAR"})}},getMovieList:function(e){return function(t){return t(1===e?{type:"REQUEST_MOVIE_LIST"}:{type:"REQUEST_MORE_MOVIES"}),me(e).then(function(n){t(function(e,t){return{type:"GET_MOVIE_LIST_SUCCESS",payload:e,page:t}}(n,e))}).catch(function(n){return t(function(e,t){return{type:"GET_MOVIE_LIST_ERROR",payload:e,page:t-1}}(n,e))})}}},ye=Object(m.b)(function(e){var t=e.movie,n=t.isLoading,r=t.page,a=t.list,i=t.results,o=t.totalPages;return{isLoading:n,page:r,list:a,results:i,error:t.error,totalPages:o}},_e)(Se),Re=function(e){function t(){return Object(_.a)(this,t),Object(R.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return a.a.createElement(r.Fragment,null,a.a.createElement(L,null),a.a.createElement(ye,null))}}]),t}(r.Component);function xe(){var e=Object(I.a)(["  \n"]);return xe=function(){return e},e}function we(){var e=Object(I.a)(["\n    height: 22.5vw; /* This is to maintain aspect ratio of video even on window resize */\n    width: 40vw;\n"]);return we=function(){return e},e}function Ie(){var e=Object(I.a)(["\n    font-size: 16px;\n"]);return Ie=function(){return e},e}function Te(){var e=Object(I.a)(["\n    font-size: 16px;\n    text-align: justify;\n    width: 90%;\n"]);return Te=function(){return e},e}function Ce(){var e=Object(I.a)(["\n    font-size: 16px;\n"]);return Ce=function(){return e},e}function Me(){var e=Object(I.a)(["\n    font-size: 20px;\n    text-decoration-line: underline;\n    font-weight: bold;\n"]);return Me=function(){return e},e}function Le(){var e=Object(I.a)(["\n    font-size: 24px;\n    font-weight: bold;\n"]);return Le=function(){return e},e}function ke(){var e=Object(I.a)(["\n    text-align: left;\n    width: 50%;\n    margin-right: 10px;\n    margin-left: 20px;\n"]);return ke=function(){return e},e}function Ue(){var e=Object(I.a)(["\n    text-align: right;\n    padding-right: 20px;\n    border-right: 2px solid black;\n    width: 50%;\n"]);return Ue=function(){return e},e}function Ve(){var e=Object(I.a)(["\n    display: block;\n    align-content: center;\n    text-align: center;\n    margin-bottom: 32px;\n"]);return Ve=function(){return e},e}function Ae(){var e=Object(I.a)(["\n    display: flex;\n    column-count: 2;\n    column-gap: 4px;\n"]);return Ae=function(){return e},e}function De(){var e=Object(I.a)(["\n    margin: 16px;\n"]);return De=function(){return e},e}var Pe=T.a.div(De()),He=T.a.div(Ae()),Qe=T.a.h1(Ve()),ze=T.a.div(Ue()),Ge=T.a.div(ke()),Be=T.a.p(Le()),Ne=T.a.p(Me()),Fe=T.a.p(Ce()),We=T.a.p(Te()),Xe=T.a.p(Ie()),qe=T.a.iframe(we()),Je=T.a.img(xe()),$e=function(e){var t=e.title,n=e.posterPath,r=e.tagline,i=e.overview,o=e.releaseDate,c=e.voteAverage,u=e.voteCount,l=e.trailer;return a.a.createElement(Pe,null,a.a.createElement(Qe,null,a.a.createElement(j.b,{to:"/"},"Movie Hunter")),a.a.createElement(He,null,a.a.createElement(ze,null,a.a.createElement(Je,{src:"".concat("https://image.tmdb.org/t/p/w200").concat(n),alt:"loading"}),a.a.createElement(Be,null,t),a.a.createElement(Fe,null,r)),a.a.createElement(Ge,null,a.a.createElement(Ne,null,"Synopsis"),a.a.createElement(We,null,i),a.a.createElement(Xe,null,"Released on: ",o),u&&a.a.createElement(Xe,null,"Rated ",c," by ",u," votes"),l?a.a.createElement(qe,{src:"".concat("https://www.youtube.com/embed/").concat(l)},"Trailer"):a.a.createElement(Xe,null,"Trailer not found"))))},Ke={language:"en-US",append_to_response:"videos"},Ye=function(e){var t="/movie/".concat(e);return Ee.get(t,Ke).then(function(e){return e.data}).catch(function(e){return Promise.reject(e.response)})},Ze=function(e){if(e){var t=e.results.find(function(e){return"Trailer"===e.type});return t?t.key:""}return""},et=function(e){return function(t){return t({type:"REQUEST_MOVIE_DETAILS"}),Ye(e).then(function(e){var n=Ze(e.videos);t(function(e,t){return{type:"GET_MOVIE_DETAILS_SUCCESS",payload:e,key:t}}(e,n))}).catch(function(e){return t(function(e){return{type:"GET_MOVIE_DETAILS_ERROR",payload:e}}(e))})}},tt=function(e){function t(){return Object(_.a)(this,t),Object(R.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(y.a)(t,[{key:"componentWillMount",value:function(){this.props.getMovieDetails(this.props.match.params.movieId)}},{key:"render",value:function(){if(this.props.isLoading)return a.a.createElement(ae,null);var e=this.props,t=e.data,n=t.title,r=t.tagline,i=t.overview,o=t.poster_path,c=t.release_date,u=t.vote_average,l=t.vote_count,s=e.trailer;return a.a.createElement($e,{title:n,tagline:r,overview:i,posterPath:o,releaseDate:c,voteAverage:u,voteCount:l,trailer:s})}}]),t}(a.a.Component),nt={getMovieDetails:et},rt=Object(m.b)(function(e){var t=e.getMovieDetails;return{data:t.data,trailer:t.trailer,isLoading:t.isLoading,error:t.error}},nt)(tt),at=function(e){return a.a.createElement(m.a,{store:e.store},a.a.createElement(j.a,null,a.a.createElement(S.c,null,a.a.createElement(S.a,Object.assign({exact:!0,path:"/",component:Re},e)),a.a.createElement(S.a,Object.assign({exact:!0,path:"/movie/:movieId",component:rt},e)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.d(t,"store",function(){return it});var it=O(),ot=a.a.createElement(at,{store:it});o.a.render(ot,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[51,1,2]]]);
//# sourceMappingURL=main.b6312ce4.chunk.js.map