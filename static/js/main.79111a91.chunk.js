(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,a){e.exports=a(70)},70:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(15),o=a.n(r),c=a(6),i=a(10),u=a(4),s=a(5),d=a(8),m=a(7),h=a(9),v=a(11),p=a(12),g=a(23),b=a(16),f=a(32),E=a.n(f).a.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"2556ac28d3c2f708dba5bb4bbb73cbe3"}}),w=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,null,[{key:"get",value:function(e,t){return E.get(e,{params:t})}}]),e}(),y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={isLoading:!1,page:1,data:[]},a.handleScroll=a.handleScroll.bind(Object(b.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"handleScroll",value:function(){if(window.innerHeight+window.scrollY>document.body.offsetHeight-200&&!this.state.isLoading){var e=this.state.page+1;this.setState({isLoading:!0,page:e}),this.getMoreQueryResults()}}},{key:"getMoreQueryResults",value:function(){var e=this;w.get("/movie/popular",{language:"en-US",page:this.state.page}).then(function(t){var a=e.state.data;e.setState({data:[].concat(Object(g.a)(a),Object(g.a)(t.data.results)),isLoading:!1})}).catch(function(e){console.log(e.response)})}},{key:"render",value:function(){var e="http://image.tmdb.org/t/p/w185";return l.a.createElement("table",null,this.props.data.map(function(t){return l.a.createElement(c.b,{to:"/movie/".concat(t.id),key:t.id},l.a.createElement("th",null,l.a.createElement("tr",null,l.a.createElement("img",{src:e+t.poster_path,alt:t.title})),l.a.createElement("tr",null,t.title),l.a.createElement("tr",null,t.vote_average," (",t.vote_count,")")))}),this.state.isLoading&&l.a.createElement("h1",null,"Loading more movies"),this.state.data.map(function(t){return l.a.createElement(c.b,{to:"/movie/".concat(t.id),key:t.id},l.a.createElement("th",null,l.a.createElement("tr",null,l.a.createElement("img",{src:e+t.poster_path,alt:t.title})),l.a.createElement("tr",null,t.title),l.a.createElement("tr",null,t.vote_average," (",t.vote_count,")")))}))}}]),t}(l.a.Component),j=a(17),O=a.n(j);function k(){var e=Object(v.a)(["\n  text-align:left;\n  display: inline-block; \n"]);return k=function(){return e},e}function S(){var e=Object(v.a)(["\n  color: black;\n  background: rgba(184, 184, 184, 1);\n  border: 1px;\n  border-color: black;\n  border-radius: 3px;\n  text-align: center;\n  width: 600px;\n  height: 40px;\n"]);return S=function(){return e},e}function _(){var e=Object(v.a)(["\n  text-align: center;\n"]);return _=function(){return e},e}var x={isLoading:!1,results:[],value:"",title:[],movieId:[]},L=p.a.div(_()),R=p.a.input(S()),C=p.a.div(k()),M=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target.value;a.setState({isLoading:!0,value:t}),setTimeout(function(){if(a.state.value.length<1)return a.setState(x);console.log(t);var e=new RegExp(O.a.escapeRegExp(a.state.value),"i"),n=function(t){return e.test(t.title)};w.get("/search/movie",{language:"en-US",query:t}).then(function(e){var t=e.data.results;a.setState({isLoading:!1,results:O.a.filter(t,n)})}).catch(function(e){console.log(e.response)})},1e3)},a.state=x,a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(L,null,l.a.createElement("form",null,l.a.createElement(R,{placeholder:"Search for movie...",value:this.state.value,onChange:O.a.debounce(this.handleInputChange,1e3,{leading:!0})}),this.state.isLoading&&l.a.createElement("h3",null,"Searching for movies..."))),l.a.createElement(C,null,l.a.createElement("ul",null,this.state.results.map(function(e){return l.a.createElement("li",null,l.a.createElement(c.b,{to:"/movie/".concat(e.id)},e.title))}))))}}]),t}(l.a.Component);function U(){var e=Object(v.a)(["\n    text-align: center;\n"]);return U=function(){return e},e}var I=p.a.h1(U()),F=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={data:[]},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;w.get("/movie/popular",{language:"en-US",page:1}).then(function(t){e.setState({data:t.data.results})}).catch(function(e){console.log(e.response)})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(I,null,"Movie Hunter"),l.a.createElement(M,null),l.a.createElement(I,null,"Popular Movies"),l.a.createElement("br",null),l.a.createElement(y,{data:this.state.data}))}}]),t}(l.a.Component),T=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={data:{},trailerFound:!0},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.movieId;w.get("/movie/".concat(t),{language:"en-US",append_to_response:"videos"}).then(function(t){e.setState({data:t.data})}).catch(function(e){console.log(e.response)})}},{key:"getTrailer",value:function(){if(void 0!==this.state.data.videos){var e=this.state.data.videos.results.find(function(e){return"Trailer"===e.type});if(void 0!==e)return e.key;this.setState({trailerFound:!1})}}},{key:"render",value:function(){var e=this.state.data;return l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:600}},l.a.createElement("img",{src:"http://image.tmdb.org/t/p/w200"+e.poster_path,alt:"loading"},e.header)),l.a.createElement("th",null,l.a.createElement("p",null,"Released Date"),l.a.createElement("p",null,e.release_date)),l.a.createElement("th",null,l.a.createElement("p",null,"Revenue"),l.a.createElement("p",null,"$ ",0!==e.revenue?e.revenue:"N/A"))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,e.tagline),l.a.createElement("p",null,e.overview),0===e.vote_count?l.a.createElement("p",null,"Rating Unavailable"):l.a.createElement("p",null,"Rated ",e.vote_average," by ",e.vote_count," votes")),l.a.createElement("td",null,this.state.trailerFound&&l.a.createElement("iframe",{src:"https://www.youtube.com/embed/".concat(this.getTrailer()),frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0,title:"video",height:"270",width:"480"}),!this.state.trailerFound&&l.a.createElement("td",null,"Trailer not found")),l.a.createElement("td",null,l.a.createElement(c.b,{to:"/"},l.a.createElement("button",null,"Back")))))))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=l.a.createElement(function(){return l.a.createElement(c.a,null,l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/",exact:!0,component:F}),l.a.createElement(i.a,{path:"/movie/:movieId",exact:!0,component:T})))},null);o.a.render(W,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.79111a91.chunk.js.map