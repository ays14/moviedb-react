(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,n){e.exports=n(69)},69:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(17),o=n.n(i),c=n(12),u=n(11),l=n(4),s=n(5),h=n(9),g=n(8),d=n(10),v=n(1),f=n(2);function p(){var e=Object(v.a)(["\n    text-align: center;\n    border-bottom: 0.5px solid black;\n    padding-bottom: 10px;\n"]);return p=function(){return e},e}var m=f.a.h1(p()),b=function(e){return r.a.createElement(m,null,"Movie Hunter")},O=n(13),E=n(15),x=n.n(E),j=n(33),y=n.n(j).a.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"2556ac28d3c2f708dba5bb4bbb73cbe3"}}),w=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,null,[{key:"get",value:function(e,t){return y.get(e,{params:t})}}]),e}();function S(){var e=Object(v.a)(["\n\ttext-align: center;\n\twidth: 40%;\n\theight: 35px;\n"]);return S=function(){return e},e}function k(){var e=Object(v.a)(["\n\tbackground-color: lightgray;\n"]);return k=function(){return e},e}function R(){var e=Object(v.a)(["\n    align-content: center;\n    text-align: center;\n"]);return R=function(){return e},e}var C=f.a.div(R()),M=f.a.form(k()),L=f.a.input(S()),_=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={searchString:""},n.handleInputChange=function(e){var t=e.target.value;n.setState({searchString:t}),n.props.onSearchChange(t)},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(C,null,r.a.createElement(M,{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(L,{placeholder:"Search for movie...",value:this.state.searchString,onChange:x.a.debounce(this.handleInputChange,1e3,{leading:!0,maxWait:1500})})))}}]),t}(r.a.Component);function I(){var e=Object(v.a)(["\n    font-size: 14px;\n    text-decoration: darkslategray;\n"]);return I=function(){return e},e}function Q(){var e=Object(v.a)(["\n    max-height: 280px;\n    max-width: 185px;\n"]);return Q=function(){return e},e}function z(){var e=Object(v.a)(["\n    text-align: center;\n    height: 320px;\n    width: 240px;\n"]);return z=function(){return e},e}function D(){var e=Object(v.a)(["\n    display: inline-block;\n    align-self: center;\n    padding: 8px 2% 8px 2%;\n    margin-bottom: 15px;\n"]);return D=function(){return e},e}var F=f.a.li(D()),N=f.a.div(z()),U=f.a.img(Q()),A=f.a.p(I()),T=function(e){return e.data.poster_path?r.a.createElement(F,null,r.a.createElement(c.b,{to:"/movie/".concat(e.data.id),key:e.data.id},r.a.createElement(N,null,r.a.createElement(U,{src:"http://image.tmdb.org/t/p/w185"+e.data.poster_path,alt:e.data.title}),r.a.createElement(A,null,e.data.title)))):null};function W(){var e=Object(v.a)(["\n\tfont-size: 20px;\n"]);return W=function(){return e},e}function q(){var e=Object(v.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\talign-items: baseline;\n\talign-content: left;\n"]);return q=function(){return e},e}function B(){var e=Object(v.a)(["\n\ttext-align: center;\n\talign-content: center;\n"]);return B=function(){return e},e}var H=f.a.div(B()),J=f.a.ul(q()),P=f.a.p(W()),$=function(e){return r.a.createElement(H,null,r.a.createElement(J,null,e.results.map(function(e){return r.a.createElement(T,{data:e,key:e.id})}),e.exhausted&&r.a.createElement(P,null,"No search results to show")))};function G(){var e=Object(v.a)(["\n\n"]);return G=function(){return e},e}function K(){var e=Object(v.a)(["\n    text-align: center;\n"]);return K=function(){return e},e}var V=f.a.div(K()),X=f.a.p(G()),Y={isLoading:!1,results:[],value:"",page:1,listExhausted:!1,prev:0},Z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).handleSearchChange=function(e){if(e.length<1)return n.props.onNotSearching(),n.setState(Y);n.props.onSearching(),n.getQueryResults(e)},n.regexpMatch=function(e,t){var n=new RegExp(x.a.escapeRegExp(e),"i");return x.a.filter(t,function(e){return n.test(e.title)})},n.vRef=r.a.createRef(),n.state=Y,n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:0})}},{key:"handleObserver",value:function(e){var t=e[0].boundingClientRect.y;if(this.state.prev>t&&!this.state.listExhausted){var n=this.state.page+1;this.setState({page:n,isLoading:!0});var a=this.state.value;this.getMoreQueryResults(a,n)}this.setState({prev:t})}},{key:"getQueryResults",value:function(e){var t=this;w.get("/search/movie",{language:"en-US",query:e,page:1}).then(function(n){var a=n.data.results,r=t.regexpMatch(e,a);t.setState({isLoading:!1,results:r,value:e}),t.observer.observe(t.loadingRef)}).catch(function(e){console.log(e.response)})}},{key:"getMoreQueryResults",value:function(e,t){var n=this;w.get("/search/movie",{language:"en-US",query:e,page:t}).then(function(t){var a=t.data.results;console.log(a);var r=n.state.results,i=n.regexpMatch(e,a);a.length>0?n.setState({isLoading:!1,results:[].concat(Object(O.a)(r),Object(O.a)(i)),value:e}):n.setState({isLoading:!1,listExhausted:!0})}).catch(function(e){console.log(e.response)})}},{key:"render",value:function(){var e=this;return r.a.createElement(a.Fragment,null,r.a.createElement(_,{searchString:this.state.value,onSearchChange:this.handleSearchChange}),""!==this.state.value?r.a.createElement(a.Fragment,null,r.a.createElement($,{results:this.state.results,loading:this.state.isLoading,exhausted:this.state.listExhausted}),!this.state.listExhausted&&r.a.createElement(V,{ref:function(t){return e.loadingRef=t}},r.a.createElement(X,null,"Loading"))):null)}}]),t}(r.a.Component);function ee(){var e=Object(v.a)(["\n    min-height: 900px;\n"]);return ee=function(){return e},e}function te(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-items: baseline;\n    margin: 10px ;\n    align-content: center;\n"]);return te=function(){return e},e}var ne=f.a.ul(te()),ae=f.a.div(ee()),re=function(e){return r.a.createElement(ae,null,r.a.createElement(ne,null,e.data.map(function(e){return r.a.createElement(T,{data:e,key:e.id})})))};function ie(){var e=Object(v.a)(["\n    display: block;\n    text-align: center;\n"]);return ie=function(){return e},e}var oe=f.a.div(ie()),ce=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).state={isLoading:!1,page:1,data:[],prev:0},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getMoreQueryResults();this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:0}),this.observer.observe(this.loadingRef)}},{key:"handleObserver",value:function(e){var t=e[0].boundingClientRect.y;if(this.state.prev>t){var n=this.state.page+1;this.setState({page:n,isLoading:!0}),this.getMoreQueryResults()}this.setState({prev:t})}},{key:"getMoreQueryResults",value:function(){var e=this;w.get("/movie/popular",{language:"en-US",page:this.state.page}).then(function(t){var n=e.state.data;e.setState({data:[].concat(Object(O.a)(n),Object(O.a)(t.data.results)),isLoading:!1})}).catch(function(e){console.log(e.response)})}},{key:"render",value:function(){var e=this;return r.a.createElement(a.Fragment,null,r.a.createElement(re,{data:this.state.data}),r.a.createElement(oe,{ref:function(t){return e.loadingRef=t}},r.a.createElement("h3",null,"Loading...")))}}]),t}(r.a.Component),ue=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={isSearching:!1},n.handleSearching=function(){n.setState({isSearching:!0})},n.handleNotSearching=function(){n.setState({isSearching:!1})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(b,null),r.a.createElement(Z,{onSearching:this.handleSearching,onNotSearching:this.handleNotSearching}),!this.state.isSearching&&r.a.createElement(ce,null))}}]),t}(a.Component);function le(){var e=Object(v.a)(["\n    \n"]);return le=function(){return e},e}function se(){var e=Object(v.a)(["\n    height: 90%;\n    width: 100%;\n"]);return se=function(){return e},e}function he(){var e=Object(v.a)(["\n    font-size: 16px;\n"]);return he=function(){return e},e}function ge(){var e=Object(v.a)(["\n    font-size: 18px;\n    text-decoration-line: underline;\n    font-weight: bold;\n"]);return ge=function(){return e},e}function de(){var e=Object(v.a)(["\n    font-size: 20px;\n    font-weight: bold;\n"]);return de=function(){return e},e}function ve(){var e=Object(v.a)(["\n    text-align: left;\n    width: 50%;\n    margin-right: 10%;\n    margin-left: 1.5%;\n"]);return ve=function(){return e},e}function fe(){var e=Object(v.a)(["\n    margin-top: 1.5%;\n    margin-right: 1.5%;\n    text-align: right;\n    border-right: 2px solid black;\n    padding-right: 3%;\n    width: 50%;\n"]);return fe=function(){return e},e}function pe(){var e=Object(v.a)(["\n    display: block;\n    align-content: center;\n    text-align: center;\n    margin-block-end: 5px;\n"]);return pe=function(){return e},e}function me(){var e=Object(v.a)(["\n    display: flex;\n    column-count: 2;\n    column-gap: 25%;\n"]);return me=function(){return e},e}function be(){var e=Object(v.a)(["\n"]);return be=function(){return e},e}var Oe=f.a.div(be()),Ee=f.a.div(me()),xe=f.a.h1(pe()),je=f.a.div(fe()),ye=f.a.div(ve()),we=f.a.p(de()),Se=f.a.p(ge()),ke=f.a.p(he()),Re=f.a.iframe(se()),Ce=f.a.img(le()),Me=function(e){return r.a.createElement(Oe,null,r.a.createElement(xe,null,r.a.createElement(c.b,{to:"/"},"Movie Hunter")),r.a.createElement(Ee,null,r.a.createElement(je,null,r.a.createElement(Ce,{src:"http://image.tmdb.org/t/p/w200"+e.posterPath,alt:"loading"}),r.a.createElement(we,null,e.title),r.a.createElement(ke,null,e.tagline)),r.a.createElement(ye,null,r.a.createElement(Se,null,"Synopsis"),r.a.createElement(ke,null,e.overview),r.a.createElement(ke,null,"Released on: ",e.releaseDate),0===e.voteCount?null:r.a.createElement(ke,null,"Rated ",e.voteAverage," by ",e.voteCount," votes"),null!==e.trailer?r.a.createElement(Re,{src:"https://www.youtube.com/embed/".concat(e.trailer)}):r.a.createElement(ke,null,"Trailer not found"))))},Le=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).state={data:{},trailerFound:!0},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.movieId;w.get("/movie/".concat(t),{language:"en-US",append_to_response:"videos"}).then(function(t){e.setState({data:t.data})}).catch(function(e){console.log(e.response)})}},{key:"getTrailer",value:function(){if(void 0!==this.state.data.videos){var e=this.state.data.videos.results.find(function(e){return"Trailer"===e.type});return void 0===e?null:e.key}}},{key:"render",value:function(){return r.a.createElement(Me,{title:this.state.data.title,tagline:this.state.data.tagline,overview:this.state.data.overview,posterPath:this.state.data.poster_path,releaseDate:this.state.data.release_date,voteAverage:this.state.data.vote_average,voteCount:this.state.data.vote_count,trailer:this.getTrailer()})}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=r.a.createElement(function(){return r.a.createElement(c.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",exact:!0,component:ue}),r.a.createElement(u.a,{path:"/movie/:movieId",exact:!0,component:Le})))},null);o.a.render(_e,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,1,2]]]);
//# sourceMappingURL=main.aec599bc.chunk.js.map