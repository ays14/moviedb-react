(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{51:function(e,t,n){e.exports=n(87)},87:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(19),o=n.n(i),c=n(18),u=(n(56),n(43)),l=n(44),s=n(4),p={isLoading:!1,data:{},trailer:"",error:null},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_MOVIE_DETAILS":return Object(s.a)({},p,{isLoading:!0});case"GET_MOVIE_DETAILS_SUCCESS":return Object(s.a)({},e,{isLoading:!1,data:t.payload,trailer:t.key});case"GET_MOVIE_DETAILS_ERROR":return Object(s.a)({},e,{error:t.payload.error});default:return e}},d=n(27),h={isLoading:!0,results:[],value:"",list:1,page:1,listExhausted:!1,prev:0,error:null},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_MOVIE_SEARCH":return Object(s.a)({},h,{isLoading:!0,value:t.value,page:t.page});case"REQUEST_MORE_SEARCH_RESULTS":return Object(s.a)({},e,{isLoading:!0});case"SEARCH_MOVIE_SUCCESS":return Object(s.a)({},e,{isLoading:!1,results:[].concat(Object(d.a)(e.results),Object(d.a)(t.payload)),page:t.page});case"SEARCH_MOVIE_ERROR":return Object(s.a)({},e,{error:t.payload.error,page:t.page});case"RESET_SEARCH_BAR":return h;case"NO_MORE_RESULTS":return Object(s.a)({},e,{listExhausted:!0});case"REQUEST_MOVIE_LIST":return Object(s.a)({},h,{isLoading:!0,list:t.page});case"REQUEST_MORE_MOVIES":return Object(s.a)({},e,{isLoading:!0});case"GET_MOVIE_LIST_SUCCESS":return Object(s.a)({},e,{isLoading:!1,results:[].concat(Object(d.a)(e.results),Object(d.a)(t.payload)),list:t.page});case"GET_MOVIE_LIST_ERROR":return Object(s.a)({},e,{error:t.payload.error,list:t.page});case"SET_SCROLLER_VALUE":return Object(s.a)({},e,{prev:t.scroll});default:return e}},v=Object(c.a)(u.a),g=Object(c.c)({router:l.routerReducer,getMovieDetails:f,movie:E}),b=function(e,t){return g(e,t)},m=function(e){return Object(c.e)(b,Object(c.d)(v,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()))},O=n(22),S=n(21),j=n(17),_=n(8),y=n(9),x=n(14),R=n(13),w=n(15),L=n(1),T=n(2);function C(){var e=Object(L.a)(["\n    text-align: center;\n    border-bottom: 0.8px solid black;\n    padding-bottom: 12px;\n"]);return C=function(){return e},e}var I=T.a.h1(C()),M=function(e){return a.a.createElement(I,null,"Movie Hunter")},k=n(20),U=n(25),V=n.n(U);function A(){var e=Object(L.a)(["\n\ttext-align: center;\n\twidth: 40%;\n\theight: 36px;\n"]);return A=function(){return e},e}function D(){var e=Object(L.a)(["\n\tbackground-color: lightgray;\n"]);return D=function(){return e},e}function H(){var e=Object(L.a)(["\n    align-content: center;\n    text-align: center;\n"]);return H=function(){return e},e}var Q=T.a.div(H()),z=T.a.form(D()),G=T.a.input(A()),N=function(e){function t(e){var n;return Object(_.a)(this,t),(n=Object(x.a)(this,Object(R.a)(t).call(this,e))).state={searchString:""},n.handleInputChange=n.handleInputChange.bind(Object(k.a)(n)),n.delayed=V.a.debounce(n.props.onSearchChange,300),n}return Object(w.a)(t,e),Object(y.a)(t,[{key:"handleInputChange",value:function(e){e.persist();var t=e.target.value;this.setState({searchString:t}),this.delayed(t)}},{key:"render",value:function(){return a.a.createElement(Q,null,a.a.createElement(z,{onSubmit:function(e){return e.preventDefault()}},a.a.createElement(G,{placeholder:"Search for movie...",value:this.state.searchString,onChange:this.handleInputChange})))}}]),t}(a.a.Component);function P(){var e=Object(L.a)(["\n    font-size: 16px;\n"]);return P=function(){return e},e}function B(){var e=Object(L.a)(["\n    max-height: 280px;\n    max-width: 185px;\n"]);return B=function(){return e},e}function F(){var e=Object(L.a)(["\n    text-align: center;\n    height: 320px;\n    width: 240px;\n"]);return F=function(){return e},e}function W(){var e=Object(L.a)(["\n    display: inline-block;\n    justify-content: center;\n    padding: 12px 4px 12px 4px;\n    margin-bottom: 20px;\n"]);return W=function(){return e},e}var X=T.a.li(W()),J=T.a.div(F()),q=T.a.img(B()),$=T.a.p(P()),K=function(e){var t=e.posterPath,n=e.id,r=e.title;return t&&a.a.createElement(X,null,a.a.createElement(S.b,{to:"/movie/".concat(n),key:n},a.a.createElement(J,null,a.a.createElement(q,{src:"".concat("http://image.tmdb.org/t/p/w185").concat(t),alt:r}),a.a.createElement($,null,r))))};function Y(){var e=Object(L.a)(["\n    text-align: center;\n\tfont-size: 20px;\n"]);return Y=function(){return e},e}function Z(){var e=Object(L.a)(["\n    display: block;\n    text-align: center;\n"]);return Z=function(){return e},e}function ee(){var e=Object(L.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\talign-items: baseline;\n    padding: 16px;\n    align-content: center;\n"]);return ee=function(){return e},e}function te(){var e=Object(L.a)(["\n    text-align: center;\n"]);return te=function(){return e},e}function ne(){var e=Object(L.a)(["\n\ttext-align: center;\n\talign-content: center;\n"]);return ne=function(){return e},e}var re=T.a.div(ne()),ae=T.a.div(te()),ie=T.a.ul(ee()),oe=T.a.div(Z()),ce=T.a.p(Y()),ue=function(e){return a.a.createElement(re,null,a.a.createElement(ae,null,a.a.createElement(ie,null,e.results.map(function(e){return a.a.createElement(K,{posterPath:e.poster_path,title:e.title,id:e.id,key:e.id})}))),a.a.createElement(oe,null,e.exhausted&&a.a.createElement(ce,null,"No search results to show")))};function le(){var e=Object(L.a)(["\n    background-color: #4F3F3B;\n    border-radius: 50%;\n    border-color: black;\n    width: 10px;\n    height: 10px;\n    margin: 0 10px;\n    animation: "," 1s ease-in-out infinite;\n    animation-delay: ",";\n"]);return le=function(){return e},e}function se(){var e=Object(L.a)(["\n    display: flex;\n    align-items: flex-end;\n    justify-content: center;\n    height: 50px;\n"]);return se=function(){return e},e}function pe(){var e=Object(L.a)(["\n    0% { margin-bottom: 0; }\n    25% { margin-bottom: 15px }\n    50% { margin-bottom: 30px }\n    75% { margin-bottom: 15px }\n    100% { margin-bottom: 0px }\n"]);return pe=function(){return e},e}var fe=Object(T.b)(pe()),de=T.a.div(se()),he=T.a.div(le(),fe,function(e){return e.delay}),Ee=function(e){function t(){return Object(_.a)(this,t),Object(x.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return a.a.createElement(de,null,a.a.createElement(he,{delay:"0s"}),a.a.createElement(he,{delay:"0.25s"}),a.a.createElement(he,{delay:"0.5s"}))}}]),t}(a.a.Component),ve=n(49),ge=n.n(ve).a.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"2556ac28d3c2f708dba5bb4bbb73cbe3"}}),be=function(){function e(){Object(_.a)(this,e)}return Object(y.a)(e,null,[{key:"get",value:function(e,t){return ge.get(e,{params:t})}}]),e}(),me=function(e,t){var n={language:"en-US",page:t,query:e};return be.get("/search/movie",n).then(function(e){return e.data.results}).catch(function(e){return Promise.reject(e.response)})},Oe=function(e){var t={language:"en-US",page:e};return be.get("/movie/popular",t).then(function(e){return e.data.results}).catch(function(e){return Promise.reject(e.response)})},Se=function(e,t){var n=new RegExp(V.a.escapeRegExp(e),"i");return V.a.filter(t,function(e){return n.test(e.title)})};function je(){var e=Object(L.a)(["\n    text-align: center;\n"]);return je=function(){return e},e}var _e=T.a.div(je()),ye=function(e){function t(e){var n;return Object(_.a)(this,t),(n=Object(x.a)(this,Object(R.a)(t).call(this,e))).loadingRef=a.a.createRef(),n.handleSearchChange=n.handleSearchChange.bind(Object(k.a)(n)),n}return Object(w.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:0}),this.props.getMovieList(this.props.list).then(function(){return e.observer.observe(e.loadingRef.current)})}},{key:"componentWillUnmount",value:function(){this.props.resetSearch(),this.observer.disconnect()}},{key:"handleObserver",value:function(e){var t=e[0].boundingClientRect.y,n=this.props,r=n.value,a=n.prev,i=n.listExhausted,o=n.page,c=n.list,u=n.searchMovie,l=n.getMovieList,s=n.setScrollValue;a>t&&!i&&(r?u(r,o):l(c)),s(t)}},{key:"handleSearchChange",value:function(e){var t=this,n=this.props,r=n.list,a=n.page,i=n.resetSearch,o=n.getMovieList,c=n.searchMovie;e.length<1?(i(),o(r)):c(e,a).then(function(){return t.observer.observe(t.loadingRef.current)})}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.results,i=e.isLoading,o=e.listExhausted;return a.a.createElement(r.Fragment,null,a.a.createElement(N,{searchString:t,onSearchChange:this.handleSearchChange}),a.a.createElement(ue,{results:n,loading:i,exhausted:o}),!o&&a.a.createElement(_e,{ref:this.loadingRef},a.a.createElement(Ee,null)))}}]),t}(a.a.Component),xe={searchMovie:function(e,t){return function(n){return n(1===t?function(e){return{type:"REQUEST_MOVIE_SEARCH",value:e}}(e):{type:"REQUEST_MORE_SEARCH_RESULTS"}),me(e,t).then(function(r){if(r.length>0){var a=Se(e,r);n(function(e,t){return{type:"SEARCH_MOVIE_SUCCESS",payload:e,page:t+1}}(a,t))}else n({type:"NO_MORE_RESULTS"})}).catch(function(e){return n(function(e,t){return{type:"SEARCH_MOVIE_ERROR",payload:e,page:t-1}}(e,t))})}},resetSearch:function(){return function(e){return e({type:"RESET_SEARCH_BAR"})}},getMovieList:function(e){return function(t){return t(1===e?{type:"REQUEST_MOVIE_LIST"}:{type:"REQUEST_MORE_MOVIES"}),Oe(e).then(function(n){t(function(e,t){return{type:"GET_MOVIE_LIST_SUCCESS",payload:e,page:t+1}}(n,e))}).catch(function(n){return t(function(e,t){return{type:"GET_MOVIE_LIST_ERROR",payload:e,page:t-1}}(n,e))})}},setScrollValue:function(e){return function(t){return t(function(e){return{type:"SET_SCROLLER_VALUE",scroll:e}}(e))}}},Re=Object(O.b)(function(e){var t=e.movie;return{isLoading:t.isLoading,page:t.page,list:t.list,results:t.results,prev:t.prev,listExhausted:t.listExhausted,value:t.value,error:t.error}},xe)(ye),we=function(e){function t(){return Object(_.a)(this,t),Object(x.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return a.a.createElement(r.Fragment,null,a.a.createElement(M,null),a.a.createElement(Re,null))}}]),t}(r.Component);function Le(){var e=Object(L.a)(["  \n"]);return Le=function(){return e},e}function Te(){var e=Object(L.a)(["\n    height: 22.5vw; /* This is to maintain aspect ratio of video even on window resize */\n    width: 40vw;\n"]);return Te=function(){return e},e}function Ce(){var e=Object(L.a)(["\n    font-size: 16px;\n"]);return Ce=function(){return e},e}function Ie(){var e=Object(L.a)(["\n    font-size: 16px;\n    text-align: justify;\n    width: 90%;\n"]);return Ie=function(){return e},e}function Me(){var e=Object(L.a)(["\n    font-size: 16px;\n"]);return Me=function(){return e},e}function ke(){var e=Object(L.a)(["\n    font-size: 20px;\n    text-decoration-line: underline;\n    font-weight: bold;\n"]);return ke=function(){return e},e}function Ue(){var e=Object(L.a)(["\n    font-size: 24px;\n    font-weight: bold;\n"]);return Ue=function(){return e},e}function Ve(){var e=Object(L.a)(["\n    text-align: left;\n    width: 50%;\n    margin-right: 10px;\n    margin-left: 20px;\n"]);return Ve=function(){return e},e}function Ae(){var e=Object(L.a)(["\n    text-align: right;\n    padding-right: 20px;\n    border-right: 2px solid black;\n    width: 50%;\n"]);return Ae=function(){return e},e}function De(){var e=Object(L.a)(["\n    display: block;\n    align-content: center;\n    text-align: center;\n    margin-bottom: 32px;\n"]);return De=function(){return e},e}function He(){var e=Object(L.a)(["\n    display: flex;\n    column-count: 2;\n    column-gap: 4px;\n"]);return He=function(){return e},e}function Qe(){var e=Object(L.a)(["\n    margin: 16px;\n"]);return Qe=function(){return e},e}var ze=T.a.div(Qe()),Ge=T.a.div(He()),Ne=T.a.h1(De()),Pe=T.a.div(Ae()),Be=T.a.div(Ve()),Fe=T.a.p(Ue()),We=T.a.p(ke()),Xe=T.a.p(Me()),Je=T.a.p(Ie()),qe=T.a.p(Ce()),$e=T.a.iframe(Te()),Ke=T.a.img(Le()),Ye=function(e){var t=e.title,n=e.posterPath,r=e.tagline,i=e.overview,o=e.releaseDate,c=e.voteAverage,u=e.voteCount,l=e.trailer;return a.a.createElement(ze,null,a.a.createElement(Ne,null,a.a.createElement(S.b,{to:"/"},"Movie Hunter")),a.a.createElement(Ge,null,a.a.createElement(Pe,null,a.a.createElement(Ke,{src:"".concat("http://image.tmdb.org/t/p/w200").concat(n),alt:"loading"}),a.a.createElement(Fe,null,t),a.a.createElement(Xe,null,r)),a.a.createElement(Be,null,a.a.createElement(We,null,"Synopsis"),a.a.createElement(Je,null,i),a.a.createElement(qe,null,"Released on: ",o),u&&a.a.createElement(qe,null,"Rated ",c," by ",u," votes"),l?a.a.createElement($e,{src:"".concat("https://www.youtube.com/embed/").concat(l)},"Trailer"):a.a.createElement(qe,null,"Trailer not found"))))},Ze={language:"en-US",append_to_response:"videos"},et=function(e){var t="/movie/".concat(e);return be.get(t,Ze).then(function(e){return e.data}).catch(function(e){return Promise.reject(e.response)})},tt=function(e){if(e){var t=e.results.find(function(e){return"Trailer"===e.type});return t?t.key:""}return""},nt=function(e){return function(t){return t({type:"REQUEST_MOVIE_DETAILS"}),et(e).then(function(e){var n=tt(e.videos);t(function(e,t){return{type:"GET_MOVIE_DETAILS_SUCCESS",payload:e,key:t}}(e,n))}).catch(function(e){return t(function(e){return{type:"GET_MOVIE_DETAILS_ERROR",payload:e}}(e))})}},rt=function(e){function t(){return Object(_.a)(this,t),Object(x.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(y.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.movieId;this.props.getMovieDetails(e)}},{key:"render",value:function(){if(this.props.isLoading)return a.a.createElement(Ee,null);var e=this.props,t=e.data,n=t.title,r=t.tagline,i=t.overview,o=t.poster_path,c=t.release_date,u=t.vote_average,l=t.vote_count,s=e.trailer;return this.props.isLoading?a.a.createElement(Ee,null):a.a.createElement(Ye,{title:n,tagline:r,overview:i,posterPath:o,releaseDate:c,voteAverage:u,voteCount:l,trailer:s})}}]),t}(a.a.Component),at={getMovieDetails:nt},it=Object(O.b)(function(e){var t=e.getMovieDetails;return{data:t.data,trailer:t.trailer,isLoading:t.isLoading,error:t.error}},at)(rt),ot=function(e){return a.a.createElement(O.a,{store:e.store},a.a.createElement(S.a,null,a.a.createElement(j.c,null,a.a.createElement(j.a,Object.assign({exact:!0,path:"/",component:we},e)),a.a.createElement(j.a,Object.assign({exact:!0,path:"/movie/:movieId",component:it},e)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.d(t,"store",function(){return ct});var ct=m(),ut=a.a.createElement(ot,{store:ct});o.a.render(ut,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[51,1,2]]]);
//# sourceMappingURL=main.b164949b.chunk.js.map