(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{52:function(e,t,n){e.exports=n(87)},87:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(21),o=n.n(i),c=n(20),u=n(43),l=n(44),s=n(45),p=n(4),h={isLoading:!1,data:{},trailer:"",error:null},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_MOVIE_DETAILS":return Object(p.a)({},h,{isLoading:!0});case"GET_MOVIE_DETAILS_SUCCESS":return Object(p.a)({},e,{isLoading:!1,data:t.payload,trailer:t.key});case"GET_MOVIE_DETAILS_ERROR":return Object(p.a)({},e,{error:t.payload.error});default:return e}},f=n(23),g={isLoading:!1,data:[],page:1,prev:0,error:null},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_MOVIE_LIST":return Object(p.a)({},g,{isLoading:!0});case"REQUEST_MORE_MOVIES":return Object(p.a)({},e,{isLoading:!0});case"GET_MOVIE_LIST_SUCCESS":return Object(p.a)({},e,{isLoading:!1,data:[].concat(Object(f.a)(e.data),Object(f.a)(t.payload)),page:t.page});case"GET_MOVIE_LIST_ERROR":return Object(p.a)({},e,{error:t.payload.error,page:t.page-1});case"SET_SCROLLER_VALUE":return Object(p.a)({},e,{prev:t.scroll});default:return e}},E={isLoading:!0,results:[],value:"",page:1,listExhausted:!1,prev:0,error:null},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_MOVIE_SEARCH":return Object(p.a)({},E,{isLoading:!0,value:t.value});case"REQUEST_MORE_SEARCH_RESULTS":return Object(p.a)({},e,{isLoading:!0});case"SEARCH_MOVIE_SUCCESS":return Object(p.a)({},e,{isLoading:!1,results:[].concat(Object(f.a)(e.results),Object(f.a)(t.payload)),page:t.page});case"SEARCH_MOVIE_ERROR":return Object(p.a)({},E,{error:t.payload.error,page:t.page});case"RESET_SEARCH_BAR":return E;case"NO_MORE_RESULTS":return Object(p.a)({},e,{listExhausted:!0});case"SET_SCROLLER_VALUE":return Object(p.a)({},e,{prev:t.scroll});default:return e}},O=Object(c.a)(l.a,Object(u.createLogger)()),m=Object(c.c)({router:s.routerReducer,getMovieDetails:d,getMovieList:v,searchMovie:b}),S=function(e,t){return m(e,t)},j=function(e){return Object(c.e)(S,Object(c.d)(O,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()))},_=n(17),y=n(22),x=n(19),R=n(5),L=n(6),w=n(11),T=n(10),C=n(16),M=n(12),I=n(1),k=n(2);function U(){var e=Object(I.a)(["\n    text-align: center;\n    border-bottom: 0.8px solid black;\n    padding-bottom: 12px;\n"]);return U=function(){return e},e}var V=k.a.h1(U()),A=function(e){return a.a.createElement(V,null,"Movie Hunter")},D=n(26),H=n.n(D);function Q(){var e=Object(I.a)(["\n\ttext-align: center;\n\twidth: 40%;\n\theight: 36px;\n"]);return Q=function(){return e},e}function z(){var e=Object(I.a)(["\n\tbackground-color: lightgray;\n"]);return z=function(){return e},e}function G(){var e=Object(I.a)(["\n    align-content: center;\n    text-align: center;\n"]);return G=function(){return e},e}var P=k.a.div(G()),N=k.a.form(z()),F=k.a.input(Q()),B=function(e){function t(e){var n;return Object(R.a)(this,t),(n=Object(w.a)(this,Object(T.a)(t).call(this,e))).state={searchString:""},n.handleInputChange=n.handleInputChange.bind(Object(C.a)(n)),n.delayed=H.a.debounce(n.props.onSearchChange,800),n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"handleInputChange",value:function(e){e.persist();var t=e.target.value;this.setState({searchString:t}),this.delayed(t)}},{key:"render",value:function(){return a.a.createElement(P,null,a.a.createElement(N,{onSubmit:function(e){return e.preventDefault()}},a.a.createElement(F,{placeholder:"Search for movie...",value:this.state.searchString,onChange:this.handleInputChange})))}}]),t}(a.a.Component);function X(){var e=Object(I.a)(["\n    font-size: 16px;\n"]);return X=function(){return e},e}function W(){var e=Object(I.a)(["\n    max-height: 280px;\n    max-width: 185px;\n"]);return W=function(){return e},e}function J(){var e=Object(I.a)(["\n    text-align: center;\n    height: 320px;\n    width: 240px;\n"]);return J=function(){return e},e}function q(){var e=Object(I.a)(["\n    display: inline-block;\n    justify-content: center;\n    padding: 12px 4px 12px 4px;\n    margin-bottom: 20px;\n"]);return q=function(){return e},e}var $=k.a.li(q()),K=k.a.div(J()),Y=k.a.img(W()),Z=k.a.p(X()),ee=function(e){var t=e.posterPath,n=e.id,r=e.title;return t&&a.a.createElement($,null,a.a.createElement(y.b,{to:"/movie/".concat(n),key:n},a.a.createElement(K,null,a.a.createElement(Y,{src:"".concat("http://image.tmdb.org/t/p/w185").concat(t),alt:r}),a.a.createElement(Z,null,r))))};function te(){var e=Object(I.a)(["\n    text-align: center;\n\tfont-size: 20px;\n"]);return te=function(){return e},e}function ne(){var e=Object(I.a)(["\n    display: block;\n    text-align: center;\n"]);return ne=function(){return e},e}function re(){var e=Object(I.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\talign-items: baseline;\n    padding: 16px;\n    align-content: center;\n"]);return re=function(){return e},e}function ae(){var e=Object(I.a)(["\n    text-align: center;\n"]);return ae=function(){return e},e}function ie(){var e=Object(I.a)(["\n\ttext-align: center;\n\talign-content: center;\n"]);return ie=function(){return e},e}var oe=k.a.div(ie()),ce=k.a.div(ae()),ue=k.a.ul(re()),le=k.a.div(ne()),se=k.a.p(te()),pe=function(e){return a.a.createElement(oe,null,a.a.createElement(ce,null,a.a.createElement(ue,null,e.results.map(function(e){return a.a.createElement(ee,{posterPath:e.poster_path,title:e.title,id:e.id,key:e.id})}))),a.a.createElement(le,null,e.exhausted&&a.a.createElement(se,null,"No search results to show")))};function he(){var e=Object(I.a)(["\n    background-color: #4F3F3B;\n    border-radius: 50%;\n    border-color: black;\n    width: 10px;\n    height: 10px;\n    margin: 0 10px;\n    animation: "," 1s ease-in-out infinite;\n    animation-delay: ",";\n"]);return he=function(){return e},e}function de(){var e=Object(I.a)(["\n    display: flex;\n    align-items: flex-end;\n    justify-content: center;\n    height: 50px;\n"]);return de=function(){return e},e}function fe(){var e=Object(I.a)(["\n    0% { margin-bottom: 0; }\n    25% { margin-bottom: 15px }\n    50% { margin-bottom: 30px }\n    75% { margin-bottom: 15px }\n    100% { margin-bottom: 0px }\n"]);return fe=function(){return e},e}var ge=Object(k.b)(fe()),ve=k.a.div(de()),Ee=k.a.div(he(),ge,function(e){return e.delay}),be=function(e){function t(){return Object(R.a)(this,t),Object(w.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){return a.a.createElement(ve,null,a.a.createElement(Ee,{delay:"0s"}),a.a.createElement(Ee,{delay:"0.25s"}),a.a.createElement(Ee,{delay:"0.5s"}))}}]),t}(a.a.Component),Oe=n(50),me=n.n(Oe).a.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"2556ac28d3c2f708dba5bb4bbb73cbe3"}}),Se=function(){function e(){Object(R.a)(this,e)}return Object(L.a)(e,null,[{key:"get",value:function(e,t){return me.get(e,{params:t})}}]),e}(),je=function(e,t){var n={language:"en-US",page:t,query:e};return Se.get("/search/movie",n).then(function(e){return e.data.results}).catch(function(e){return Promise.reject(e.response)})},_e=function(e,t){var n=new RegExp(H.a.escapeRegExp(e),"i");return H.a.filter(t,function(e){return n.test(e.title)})};function ye(){var e=Object(I.a)(["\n    text-align: center;\n"]);return ye=function(){return e},e}var xe=k.a.div(ye()),Re=function(e){function t(e){var n;return Object(R.a)(this,t),(n=Object(w.a)(this,Object(T.a)(t).call(this,e))).loadingRef=a.a.createRef(),n.handleSearchChange=n.handleSearchChange.bind(Object(C.a)(n)),n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:0})}},{key:"handleObserver",value:function(e){var t=e[0].boundingClientRect.y;this.props.prev>t&&!this.props.listExhausted&&this.props.searchMovie(this.props.value,this.props.page),this.props.setScrollValue(t)}},{key:"handleSearchChange",value:function(e){var t=this;if(e.length<1)return this.props.onSearching(!1),this.observer.disconnect(),this.props.resetSearch();this.props.onSearching(!0),this.props.searchMovie(e,this.props.page).then(function(){return t.observer.observe(t.loadingRef.current)})}},{key:"render",value:function(){return a.a.createElement(r.Fragment,null,a.a.createElement(B,{searchString:this.props.value,onSearchChange:this.handleSearchChange}),this.props.value&&a.a.createElement(r.Fragment,null,a.a.createElement(pe,{results:this.props.results,loading:this.props.isLoading,exhausted:this.props.listExhausted}),!this.props.listExhausted&&a.a.createElement(xe,{ref:this.loadingRef},a.a.createElement(be,null))))}}]),t}(a.a.Component),Le={searchMovie:function(e,t){return function(n){return n(1===t?function(e){return{type:"REQUEST_MOVIE_SEARCH",value:e}}(e):{type:"REQUEST_MORE_SEARCH_RESULTS"}),je(e,t).then(function(r){if(r.length>0){var a=_e(e,r);n(function(e,t){return{type:"SEARCH_MOVIE_SUCCESS",payload:e,page:t+1}}(a,t))}else n({type:"NO_MORE_RESULTS"})}).catch(function(e){return n(function(e,t){return{type:"SEARCH_MOVIE_ERROR",payload:e}}(e))})}},resetSearch:function(){return function(e){return e({type:"RESET_SEARCH_BAR"})}},setScrollValue:function(e){return function(t){return t(function(e){return{type:"SET_SCROLLER_VALUE",scroll:e}}(e))}}},we=Object(_.b)(function(e){var t=e.searchMovie;return{isLoading:t.isLoading,page:t.page,results:t.results,prev:t.prev,listExhausted:t.listExhausted,value:t.value,error:t.error}},Le)(Re);function Te(){var e=Object(I.a)(["\n    min-height: 900px;\n    padding: 20px;\n"]);return Te=function(){return e},e}function Ce(){var e=Object(I.a)(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-items: baseline;\n    padding: 16px;\n"]);return Ce=function(){return e},e}var Me=k.a.ul(Ce()),Ie=k.a.div(Te()),ke=function(e){return a.a.createElement(Ie,null,a.a.createElement(Me,null,e.data.map(function(e){return a.a.createElement(ee,{posterPath:e.poster_path,title:e.title,id:e.id,key:e.id})})))},Ue=function(e){var t={language:"en-US",page:e};return Se.get("/movie/popular",t).then(function(e){return e.data.results}).catch(function(e){return Promise.reject(e.response)})};function Ve(){var e=Object(I.a)(["\n    display: block;\n    text-align: center;\n"]);return Ve=function(){return e},e}var Ae=k.a.div(Ve()),De=function(e){function t(e){var n;return Object(R.a)(this,t),(n=Object(w.a)(this,Object(T.a)(t).call(this,e))).loadingRef=a.a.createRef(),n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:0}),this.props.getMovieList(this.props.page).then(function(){return e.observer.observe(e.loadingRef.current)})}},{key:"handleObserver",value:function(e){var t=e[0].boundingClientRect.y;this.props.prev>t&&this.props.getMovieList(this.props.page),this.props.setScrollValue(t)}},{key:"render",value:function(){return a.a.createElement(r.Fragment,null,this.props.isLoading&&a.a.createElement(be,null),a.a.createElement(ke,{data:this.props.data}),a.a.createElement(Ae,{ref:this.loadingRef},a.a.createElement(be,null)))}}]),t}(a.a.Component),He={getMovieList:function(e){return function(t){return t(1===e?{type:"REQUEST_MOVIE_LIST"}:{type:"REQUEST_MORE_MOVIES"}),Ue(e).then(function(n){t(function(e,t){return{type:"GET_MOVIE_LIST_SUCCESS",payload:e,page:t+1}}(n,e))}).catch(function(n){return t(function(e,t){return{type:"GET_MOVIE_LIST_ERROR",payload:e,page:t-1}}(n,e))})}},setScrollValue:function(e){return function(t){return t(function(e){return{type:"SET_SCROLLER_VALUE",scroll:e}}(e))}}},Qe=Object(_.b)(function(e){var t=e.getMovieList;return{isLoading:t.isLoading,page:t.page,data:t.data,prev:t.prev,error:t.error}},He)(De),ze=function(e){function t(e){var n;return Object(R.a)(this,t),(n=Object(w.a)(this,Object(T.a)(t).call(this,e))).state={isSearching:!1},n.isUserSearching=n.isUserSearching.bind(Object(C.a)(n)),n}return Object(M.a)(t,e),Object(L.a)(t,[{key:"isUserSearching",value:function(e){this.setState({isSearching:e})}},{key:"render",value:function(){return a.a.createElement(r.Fragment,null,a.a.createElement(A,null),a.a.createElement(we,{onSearching:this.isUserSearching}),!this.state.isSearching&&a.a.createElement(Qe,null))}}]),t}(r.Component);function Ge(){var e=Object(I.a)(["  \n"]);return Ge=function(){return e},e}function Pe(){var e=Object(I.a)(["\n    height: 22.5vw; /* This is to maintain aspect ratio of video even on window resize */\n    width: 40vw;\n"]);return Pe=function(){return e},e}function Ne(){var e=Object(I.a)(["\n    font-size: 16px;\n"]);return Ne=function(){return e},e}function Fe(){var e=Object(I.a)(["\n    font-size: 16px;\n    text-align: justify;\n    width: 90%;\n"]);return Fe=function(){return e},e}function Be(){var e=Object(I.a)(["\n    font-size: 16px;\n"]);return Be=function(){return e},e}function Xe(){var e=Object(I.a)(["\n    font-size: 20px;\n    text-decoration-line: underline;\n    font-weight: bold;\n"]);return Xe=function(){return e},e}function We(){var e=Object(I.a)(["\n    font-size: 24px;\n    font-weight: bold;\n"]);return We=function(){return e},e}function Je(){var e=Object(I.a)(["\n    text-align: left;\n    width: 50%;\n    margin-right: 10px;\n    margin-left: 20px;\n"]);return Je=function(){return e},e}function qe(){var e=Object(I.a)(["\n    text-align: right;\n    padding-right: 20px;\n    border-right: 2px solid black;\n    width: 50%;\n"]);return qe=function(){return e},e}function $e(){var e=Object(I.a)(["\n    display: block;\n    align-content: center;\n    text-align: center;\n    margin-bottom: 32px;\n"]);return $e=function(){return e},e}function Ke(){var e=Object(I.a)(["\n    display: flex;\n    column-count: 2;\n    column-gap: 4px;\n"]);return Ke=function(){return e},e}function Ye(){var e=Object(I.a)(["\n    margin: 16px;\n"]);return Ye=function(){return e},e}var Ze=k.a.div(Ye()),et=k.a.div(Ke()),tt=k.a.h1($e()),nt=k.a.div(qe()),rt=k.a.div(Je()),at=k.a.p(We()),it=k.a.p(Xe()),ot=k.a.p(Be()),ct=k.a.p(Fe()),ut=k.a.p(Ne()),lt=k.a.iframe(Pe()),st=k.a.img(Ge()),pt=function(e){var t=e.title,n=e.posterPath,r=e.tagline,i=e.overview,o=e.releaseDate,c=e.voteAverage,u=e.voteCount,l=e.trailer;return a.a.createElement(Ze,null,a.a.createElement(tt,null,a.a.createElement(y.b,{to:"/"},"Movie Hunter")),a.a.createElement(et,null,a.a.createElement(nt,null,a.a.createElement(st,{src:"".concat("http://image.tmdb.org/t/p/w200").concat(n),alt:"loading"}),a.a.createElement(at,null,t),a.a.createElement(ot,null,r)),a.a.createElement(rt,null,a.a.createElement(it,null,"Synopsis"),a.a.createElement(ct,null,i),a.a.createElement(ut,null,"Released on: ",o),u&&a.a.createElement(ut,null,"Rated ",c," by ",u," votes"),l?a.a.createElement(lt,{src:"".concat("https://www.youtube.com/embed/").concat(l)},"Trailer"):a.a.createElement(ut,null,"Trailer not found"))))},ht={language:"en-US",append_to_response:"videos"},dt=function(e){var t="/movie/".concat(e);return Se.get(t,ht).then(function(e){return e.data}).catch(function(e){return Promise.reject(e.response)})},ft=function(e){if(e){var t=e.results.find(function(e){return"Trailer"===e.type});return t?t.key:""}return""},gt=function(e){return function(t){return t({type:"REQUEST_MOVIE_DETAILS"}),dt(e).then(function(e){var n=ft(e.videos);t(function(e,t){return{type:"GET_MOVIE_DETAILS_SUCCESS",payload:e,key:t}}(e,n))}).catch(function(e){return t(function(e){return{type:"GET_MOVIE_DETAILS_ERROR",payload:e}}(e))})}},vt=function(e){function t(){return Object(R.a)(this,t),Object(w.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.movieId;this.props.getMovieDetails(e)}},{key:"render",value:function(){if(this.props.isLoading)return a.a.createElement(be,null);var e=this.props,t=e.data,n=t.title,r=t.tagline,i=t.overview,o=t.poster_path,c=t.release_date,u=t.vote_average,l=t.vote_count,s=e.trailer;return this.props.isLoading?a.a.createElement(be,null):a.a.createElement(pt,{title:n,tagline:r,overview:i,posterPath:o,releaseDate:c,voteAverage:u,voteCount:l,trailer:s})}}]),t}(a.a.Component),Et={getMovieDetails:gt},bt=Object(_.b)(function(e){var t=e.getMovieDetails;return{data:t.data,trailer:t.trailer,isLoading:t.isLoading,error:t.error}},Et)(vt),Ot=function(e){return a.a.createElement(_.a,{store:e.store},a.a.createElement(y.a,null,a.a.createElement(x.c,null,a.a.createElement(x.a,Object.assign({exact:!0,path:"/",component:ze},e)),a.a.createElement(x.a,Object.assign({exact:!0,path:"/movie/:movieId",component:bt},e)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.d(t,"store",function(){return mt});var mt=j(),St=a.a.createElement(Ot,{store:mt});o.a.render(St,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[52,1,2]]]);
//# sourceMappingURL=main.5b4f7ebd.chunk.js.map